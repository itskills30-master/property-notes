<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <meta name="mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

  <title>Progres - Property Notes</title>

  <!-- ===============================
       PWA
       =============================== -->
  <link rel="manifest" href="/manifest.json" />
  <link rel="icon" type="image/png" href="/icons/icon-192.png" />
  <meta name="theme-color" content="#1976d2" />

  <!-- ===============================
       CSS
       =============================== -->
  <link rel="stylesheet" href="/css/style.css" />
  <link rel="stylesheet" href="/css/progres.css" />
</head>
<body>

  <!-- ===============================
       HEADER
       =============================== -->
  <header class="progres-header">
    <div class="progres-header-content">
      <button id="openMenuBtn" class="progres-header-menu-btn" aria-label="Menu">
        <span class="progres-header-menu-icon">â˜°</span>
      </button>
      <div class="progres-header-title">
        <h4>Progres</h4>
        <p class="progres-header-subtitle">Lacak perkembangan dan kemajuan properti Anda.</p>
      </div>
      <button id="openFormBtn" class="progres-header-add-btn" aria-label="Tambah Progres">
        <span class="progres-header-add-icon">â•</span>
      </button>
    </div>
  </header>

  <!-- ===============================
       MAIN CONTENT
       =============================== -->
  <main class="progres-main">
    <div class="progres-layout">
      <section>
        <!-- List Progres -->
        <div id="progresList" class="progres-list">
          <!-- List items will be rendered here -->
        </div>

        <!-- Empty State -->
        <div id="emptyState" class="progres-empty" style="display:none;">
          <div class="progres-empty-icon">ğŸ“Š</div>
          <div>Belum ada data progres!</div>
          <div style="font-size:0.85rem;margin-top:0.2rem;">Pilih unit dan klik tombol â• pada header untuk menambahkan data progres</div>
        </div>
      </section>
    </div>
  </main>

  <!-- ===============================
       BOTTOM SHEET MODAL (FORM)
       =============================== -->
  <div id="formBottomSheet" class="progres-bottom-sheet">
    <div class="progres-bottom-sheet-backdrop" id="closeFormBtn"></div>
    <div class="progres-bottom-sheet-content">
      <div class="progres-bottom-sheet-header">
        <h2 class="progres-bottom-sheet-title">
          <span class="progres-form-icon">â•</span>
          <span id="formTitle">Tambah Progres</span>
        </h2>
        <button class="progres-bottom-sheet-close" id="closeFormBtn2" aria-label="Tutup">
          âœ•
        </button>
      </div>
      
      <div class="progres-bottom-sheet-body">
        <form id="progresFormModal">
          <div class="progres-form-group">
            <label for="unitSelectModal">Unit</label>
            <select id="unitSelectModal" class="progres-select" required>
              <option value="">-- Pilih Unit --</option>
            </select>
          </div>

          <div class="progres-form-group">
            <label for="checkInModal">Check In</label>
            <div class="progres-input-with-icon">
              <input
                type="datetime-local"
                id="checkInModal"
                class="progres-input"
                required
              />
              <span class="progres-input-icon">ğŸ“…</span>
            </div>
          </div>

          <div class="progres-form-group">
            <label for="checkOutModal">Check Out</label>
            <div class="progres-input-with-icon">
              <input
                type="datetime-local"
                id="checkOutModal"
                class="progres-input"
                required
              />
              <span class="progres-input-icon">ğŸ•</span>
            </div>
          </div>

          <div class="progres-form-group">
            <label for="pendapatanKotorModal">Pendapatan Kotor</label>
            <input
              type="text"
              id="pendapatanKotorModal"
              class="progres-input progres-currency-input"
              inputmode="numeric"
              placeholder="0"
            />
          </div>

          <div class="progres-form-group">
            <label for="pendapatanBersihModal">Pendapatan Bersih</label>
            <input
              type="text"
              id="pendapatanBersihModal"
              class="progres-input progres-currency-input"
              inputmode="numeric"
              placeholder="0"
            />
          </div>

          <div class="progres-form-group">
            <label for="komisiModal">Komisi (Agensi)</label>
            <input
              type="text"
              id="komisiModal"
              class="progres-input progres-currency-input"
              inputmode="numeric"
              placeholder="0"
            />
          </div>

          <div class="progres-form-group">
            <label for="catatanModal">Catatan</label>
            <textarea
              id="catatanModal"
              class="progres-textarea"
              placeholder="Tambahkan catatan..."
              rows="3"
            ></textarea>
          </div>

          <button type="submit" class="progres-btn-primary">
            ğŸ’¾ <span>Simpan</span>
          </button>
        </form>
      </div>
    </div>
  </div>

  <!-- ===============================
       BOTTOM SHEET MODAL (MENU)
       =============================== -->
  <div id="menuBottomSheet" class="progres-bottom-sheet">
    <div class="progres-bottom-sheet-backdrop" id="closeMenuBtn"></div>
    <div class="progres-bottom-sheet-content">
      <div class="progres-bottom-sheet-header">
        <h2 class="progres-bottom-sheet-title">
          <span class="progres-form-icon">â˜°</span>
          <span>Menu</span>
        </h2>
        <button class="progres-bottom-sheet-close" id="closeMenuBtn2" aria-label="Tutup">
          âœ•
        </button>
      </div>
      
      <div class="progres-bottom-sheet-body">
        <nav class="progres-menu-nav">
          <a href="/unit.html" class="progres-menu-item">
            <span class="progres-menu-icon">ğŸ </span>
            <span class="progres-menu-text">Unit</span>
            <span class="progres-menu-arrow">â€º</span>
          </a>
          <a href="/progres.html" class="progres-menu-item active">
            <span class="progres-menu-icon">ğŸ“Š</span>
            <span class="progres-menu-text">Progres</span>
            <span class="progres-menu-arrow">â€º</span>
          </a>
          <a href="/pemasukan.html" class="progres-menu-item">
            <span class="progres-menu-icon">ğŸ’°</span>
            <span class="progres-menu-text">Pemasukan</span>
            <span class="progres-menu-arrow">â€º</span>
          </a>
          <a href="/setting.html" class="progres-menu-item">
            <span class="progres-menu-icon">âš™ï¸</span>
            <span class="progres-menu-text">Setting</span>
            <span class="progres-menu-arrow">â€º</span>
          </a>
        </nav>
      </div>
    </div>
  </div>

  <!-- ===============================
       UPDATE BANNER (PWA UPDATE)
       =============================== -->
  <div id="updateBanner" class="progres-update-banner">
    <div class="progres-update-content">
      <span>ğŸ”„ Aplikasi diperbarui</span>
      <button onclick="location.reload()" class="progres-update-btn">
        Muat Ulang
      </button>
    </div>
  </div>

  <!-- ===============================
       SCRIPTS (URUTAN PENTING!)
       =============================== -->
  <script src="/js/i18n.js"></script>
  <script src="/js/app.js"></script>
  <script src="/js/db.js"></script>
  <script src="/js/progres.js"></script>

</body>
</html>